<template>
   {{define "finance_report"}}
   <!DOCTYPE html>
   <html lang="en">
      {{ template "html-head" headData .CommonPageData "Finance Report" }}
      {{ template "navbar". }}
      {{- $treasuryBalance := .TreasuryBalance -}}
      {{- $TxnCount := $treasuryBalance.TxCount}}
      <div class="content pb-40" 
         data-controller="financereport"
         data-financereport-dev-address="{{$.DevAddress}}"
         data-financereport-dcraddress="treasury"
         data-financereport-txn-count="{{$TxnCount}}"
         data-financereport-balance="{{toFloat64Amount $treasuryBalance.Balance}}">
         <div class="container fs-15 pt-2">
            <a class="return-to-main link-hover-underline me-2 fs-16" href="/home-report">Financial Reports</a><span class="narrow-breadcumb">></span><span class="step1-breadcumb ms-2 fs-20" data-financereport-target="bcname"></span>
         </div>
         <div class="px-0 main finance-report-page" data-financereport-target="reportAllPage">
            <div class="fullscreen d-none" data-financereport-target="fullscreen" data-action="click->financereport#exitFullscreen">
               <div class="secondary-card d-inline-block w-100 h-100 p-4" data-financereport-target="bigchart"></div>
            </div>
            <div class="mt-2 mb-2 container">
               <div class="d-none" data-financereport-target="nameMatrixSwitch">
                  <span class="me-1" style="position:sticky;left:10px;">Name</span>
                  <label class="switch mt-3" style="position:sticky;left:60px;">
                  <input type="checkbox" data-action="change->financereport#nameMatrixSwitchEvent" id="nameMonthSwitchInput">
                  <span class="legacy-slider round"></span>
                  </label>
                  <span class="ms-1" style="position:sticky;left:125px;">Month</span>
               </div>
               <div class="mb-2">
                  <span class="report-tool-bar" data-financereport-target="reportDescription"></span>
               </div>
               <!-- Start treasury chart -->
               <p class="fs-20 pb-2 mt-2 report-tool-bar d-none" data-financereport-target="treasuryChartTitle">
                  Treasury IO Chart
               </p>
               <div class="d-none secondary-card p-2 treasury-report-chart mb-3" data-financereport-target="treasuryChart">
                  <noscript>
                     <div class="text-center pt-5 fs15">Enable Javascript to see charts</div>
                  </noscript>
                  <div class="jsonly h-100" data-financereport-target="littlechart">
                     <div class="d-flex flex-column h-100" data-financereport-target="chartbox">
                        <div class="d-flex flex-wrap justify-content-around align-items-start" data-financereport-target="chartHeader">
                           <div class="loader-v2 loading" data-financereport-target="chartLoader"></div>
                           <div class="btn-set secondary-card d-inline-flex flex-nowrap mx-2">
                              <label>Chart</label>
                              <select
                                 class="chart-box d-inline-flex"
                                 data-financereport-target="options"
                                 data-action="change->financereport#changeGraph"
                                 >
                                 <option name="amountflow" data-financereport-target="amountFlowOption" value="amountflow">Sent/Received</option>
                                 <option name="balance" data-financereport-target="balanceOption" value="balance">Balance</option>
                              </select>
                           </div>
                           <div
                              class="btn-set secondary-card d-inline-flex flex-nowrap mx-2"
                              data-toggle="buttons"
                              data-financereport-target="zoom"
                              data-action="click->financereport#onZoom"
                              >
                              <label>Zoom</label>
                              <button name="all" data-fixed="1">All</button>
                              <button name="year">Year</button>
                              <button name="month">Month</button>
                              <button name="week" data-financereport-target="weekZoomBtn">Week</button>
                              <button name="day" data-financereport-target="dayZoomBtn">Day</button>
                           </div>
                           <div
                              class="btn-set secondary-card d-inline-flex flex-nowrap mx-2"
                              data-toggle="buttons"
                              data-txcount="{{$TxnCount}}"
                              data-financereport-target="cinterval"
                              data-action="click->financereport#changeBin"
                              >
                              <label class="d-inline-flex pe-1">Group By </label>
                              <button name="year">Year</button>
                              <button class="btn-selected" name="month">Month</button>
                              <button name="week" data-financereport-target="weekGroupBtn">Week</button>
                              <button name="day" data-fixed="1" data-financereport-target="dayGroupBtn">Day</button>
                              <button name="all" data-fixed="1" data-financereport-target="blockGroupBtn">Block</button>
                           </div>
                           <div class="row flex-nowrap d-inline-flex d-hide mx-2 mb-2" data-financereport-target="flow"
                              data-action="change->financereport#updateFlow">
                              <label class="customcheck ms-2 d-inline-flex">
                              <span data-financereport-target="sentRadioLabel">Sent</span>
                              <input type="checkbox" value="2">
                              <span class="checkmark sent"></span>
                              </label>
                              <label class="customcheck ms-2 d-inline-flex">
                              <span data-financereport-target="receivedRadioLabel">Received</span>
                              <input type="checkbox" checked="checked" value="1">
                              <span class="checkmark received"></span>
                              </label>
                              <label class="customcheck mx-2 d-inline-flex" data-financereport-target="netSelectRadio">Net
                              <input type="checkbox" value="4">
                              <span class="checkmark net"></span>
                              </label>
                           </div>
                        </div>
                        <div class="p-3 address_chart_wrap">
                           <div class="expando dcricon-expand" data-financereport-target="expando" data-action="click->financereport#toggleExpand"></div>
                           <div class="py-5 fs16 d-none" data-financereport-target="noconfirms"></div>
                           <div data-financereport-target="chart" class="address_chart"></div>
                        </div>
                     </div>
                  </div>
               </div>
               <!-- Finish treasury chart -->
               <div class="my-2" data-financereport-target="colorNoteRow">
                  <label class="color-note-label report-tool-bar" data-financereport-target="colorLabel"></label>
                  <span class="c-grey-2 ps-2 fw-600 color-description" data-financereport-target="colorDescription">Valid payment month</span>
               </div>
               <div data-financereport-target="treasuryTitle">
                  <p class="fs-20 mb-1 mt-1 report-tool-bar" data-financereport-target="treasuryTypeTitle">
                     Current Treasury
                  </p>
               </div>
               <div class="d-flex ai-center mt-2">
                  <div class="d-none d-inline" data-financereport-target="groupBy">
                     <label data-financereport-target="typeLabel">Type: </label>
                     <div data-financereport-target="typeSelector" class="btn-group" data-toggle="buttons">
                        <input data-financereport-target="ttype" data-action="click->financereport#treasuryTypeChange" type="button" class="btn btn_sm btn-active" value="Decentralized Treasury" name="current">
                        <input data-financereport-target="ttype" data-action="click->financereport#treasuryTypeChange" type="button" class="btn btn_sm" value="Admin Treasury" name="legacy">
                        <input data-financereport-target="ttype" data-action="click->financereport#treasuryTypeChange" type="button" class="btn btn_sm" value="Combined" name="combined">
                     </div>
                     <label data-financereport-target="groupByLabel">Group By: </label>
                     <div class="btn-group" data-toggle="buttons">
                        <input data-financereport-target="interval" data-action="click->financereport#intervalChange" type="button" class="btn btn_sm btn-active" value="Monthly" name="month">
                        <input data-financereport-target="interval" data-action="click->financereport#intervalChange" type="button" class="btn btn_sm" value="Yearly" name="year">
                     </div>
                  </div>
                  <div class="d-none" data-financereport-target="activeProposalSwitchArea">
                     <span class="me-1">All</span>
                     <label class="switch mt-3">
                     <input type="checkbox" data-action="change->financereport#activeProposalSwitch" id="activeProposalInput">
                     <span class="legacy-slider round"></span>
                     </label>
                     <span class="ms-1">Active</span>
                  </div>
                  <div data-financereport-target="searchBox" class="d-iblock report-search-box px-1 pt-1 ps-2">
                     <input
                        tabindex="0"
                        type="text"
                        name="search"
                        class="ms-2 report-search-input mousetrap pb-1"
                        placeholder="proposals, author, domain"
                        spellcheck="false"
                        autocomplete="off"
                        data-financereport-target="searchInput"
                        data-action="keyup->financereport#searchInputKeypress input->financereport#onTypeChange"
                        />
                     <button class="report-search" data-financereport-target="searchBtn" data-action="click->financereport#searchProposal"><i class="dcricon-search"></i></button>
                     <button class="report-search d-none" data-financereport-target="clearSearchBtn" data-action="click->financereport#clearSearch"><i class="dcricon-closenb"></i></button>
                  </div>
               </div>
               <div class="d-none mt-2" data-financereport-target="treasuryToggleArea">
               <label class="d-none" data-financereport-target="yearSelectTitle">Year</label>
               <select
                  class="border-grey me-3 d-none"
                  data-financereport-target="yearSelect"
                  data-action="change->financereport#changeYear"
                  >
               </select>
               <span>DCR</span>
               <label class="switch mt-2 ms-0">
               <input type="checkbox" data-action="change->financereport#treasuryUsdChange" id="usdSwitchInput">
               <span class="legacy-slider round"></span>
               </label>
               <span>USD</span>
            </div>
            <span class="d-none fs-14" data-financereport-target="outgoingExp">*Outgoing (Est): This is based on total estimated proposal spends from proposal budgets</span>
            </div>
            <div class="container">
            <style>
            .wrapper {
  max-width: 100%;
  display: flex;
  ;
}

.container {
  overflow: hidden;
}

.long {
  width: 2000px;
}

#container_body {
  overflow: hidden;
}

.scroller {
  position: fixed;
  left: 0px;
  right: 0;
  margin-bottom: 25px;
  overflow-x: scroll;
  display: none;
}

.scroller.visible {
  display: block;
}

.scroller .long {
  height: 1px;
}     
            </style>
            <div class="wrapper" id="wrapper">
  <div class="container">
    <div id="container_body" class="content">
       <table id="reportTable" class="table report v3 d-table-cell" data-financereport-target="report">
         </table>
    </div>
    <div id="scroller" class="scroller container d-none">
      <div id="scrollerLong" class="long">
      </div>
    </div>
  </div>
</div>
   <p data-financereport-target="nodata" class="d-none">No records found. Please try searching again!</p>
      </div>
   </div>
      </div>
      {{ template "footer". }}
      </body>
   </html>
   {{ end }}
</template>